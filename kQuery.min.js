$.extend($.expr[":"],{inViewFull:function(e){var t=$(e)[0],a=t.getBoundingClientRect();return a.top>0&&a.bottom<window.innerHeight},inView:function(e){var t=$(e)[0],a=t.getBoundingClientRect();return a.bottom>0&&a.top<window.innerHeight},external:function(e,t,a){if(!e.href)return!1;var n=window.location.hostname;return""!=a[3]&&(n=a[3]),e.hostname&&e.hostname==n},containsi:function(e,t,a,n){return jQuery(e).text().toLowerCase().indexOf((a[3]||"").toLowerCase())>=0}});var elems=$([]);$.event.special.clickOutside={setup:function(){elems=elems.add(this),1===elems.length&&$(document).on("click",function(e){$(elems).each(function(){var t=$(this);this===e.target||t.has(e.target).length||t.triggerHandler("clickOutside",[e.target])})})}};var keys={enterKey:13,spaceKey:32,tabKey:9,altKey:18,ctrlKey:17,shiftKey:16,escKey:27,numKey:144,scrolLock:145,insertKey:45,homeKey:36,pgUpKey:33,pgDownKey:34,delKey:46,endKey:35,backspaceKey:8};$.map(Object.keys(keys),function(e){$.event.special[e]={delegateType:"keydown",bindType:"keydown",handle:function(t){var a=t.handleObj,n=(jQuery.data(t.target),null);return t.keyCode==keys[e]?(t.type=a.origType,n=a.handler.apply(this,arguments),t.type=a.type,n):void 0}}});var doit;$.event.special.resizeOnce={delegateType:"resize",bindType:"resize",handle:function(e){var t=e.handleObj,a=(jQuery.data(e.target),null);return clearTimeout(doit),doit=setTimeout(function(){e.type=t.origType,a=t.handler.apply(this,arguments),e.type=t.type},100),a}};var scrollDirections=["scrollUp","scrollDown","scrollLeft","scrollRight"];$.map(scrollDirections,function(e){$.event.special[e]={delegateType:"scroll",bindType:"scroll",handle:function(t){var a=t.handleObj,n=(jQuery.data(t.target),null),r=jQuery(t.target),o=jQuery(window).scrollTop(),i=jQuery(window).scrollLeft(),d=r.data("data-scrollTop")||0,s=r.data("data-scrollLeft")||0,l=!1;return(o>d&&"scrollDown"==e||d>o&&"scrollUp"==e)&&(l=!0,r.data("data-scrollTop",o)),(i>s&&"scrollRight"==e||s>i&&"scrollLeft"==e)&&(l=!0,r.data("data-scrollLeft",i)),l?(t.type=a.origType,n=a.handler.apply(this,arguments),t.type=a.type,n):void 0}}}),jQuery.fn.firstWord=function(){var e=jQuery(this[0]),t=e.text(),a=t.substr(0,t.indexOf(" ")),n=jQuery("<span>"+a+"</span>"),r=t.substr(a.length);return e.text(r),e.prepend(n),n};var swipeDirections=["swipeUp","swipeDown","swipeLeft","swipeRight"];$.map(swipeDirections,function(e){$.event.special[e]={setup:function(t){var a=jQuery(this);a.on("mousedown touchstart",function(e){xDown=e.pageX,yDown=e.pageY}).on("mouseup touchend",function(t){xUp=t.pageX,yUp=t.pageY;var n=xUp-xDown,r=yUp-yDown,o="";Math.abs(n)>=30?o=n>0?"Right":"Left":Math.abs(r)>=30&&(o=r>0?"Up":"Down"),e=="swipe"+o&&1!=a.data("data-drag")&&a.triggerHandler("swipe"+o)})}}}),$.event.special.drag={setup:function(e){var t=jQuery(this);t.data("data-drag",!1),t.on("mousedown touchstart",function(e){xDown=e.pageX,yDown=e.pageY,t.data("data-drag",!0)}).on("mousemove touchmove",function(e){if(1==t.data("data-drag")){var a=t.data("data-dragging");("undefined"==typeof a||0==a)&&(t.triggerHandler("drag",{state:"dragStart"}),t.data("data-dragging",!0));var n={x:e.pageX,y:e.pageY,state:"dragging"};t.triggerHandler("drag",n)}}).on("mouseup touchend",function(e){var a=t.data("data-dragging");1==a&&(t.triggerHandler("drag",{state:"dragEnd"}),t.data("data-dragging",!1)),1==t.data("data-drag")&&t.data("data-drag",!1)}),jQuery(document).mouseleave(function(){var e=t.data("data-dragging");1==e&&(t.triggerHandler("drag",{state:"dragEnd"}),t.data("data-dragging",!1)),1==t.data("data-drag")&&t.data("data-drag",!1)})}};
